<launch>

  <arg name="gazebo" default="true"/>

  <!-- <include file="$(find gazebo_ros)/launch/empty_world.launch" /> -->
  <include file="$(find tiago_gazebo)/launch/tiago_gazebo.launch">
    <arg name="arm" value="true"/>
    <arg name="end_effector" value="schunk-wsg"/>
    <arg name="ft_sensor" default="schunk-ft"/>
    <arg name="tuck_arm" default="true"/>
    <arg name="public_sim" default="true"/>

    <!-- <arg name="gzpose" default="-x 1.0 -y 0.0 -z 0.0 -R 0.0 -P 0.0 -Y 3.141592653589793"/> -->
  </include>
  
  <group ns="gerard_bauzil">
    <param name="robot_description" textfile="$(find gerard_bauzil)/urdf/gerard_bauzil.urdf"/>
    <param name="tf_prefix" value="gerard_bauzil"/>
    <node pkg="robot_state_publisher" type="robot_state_publisher" name="robot_state_publisher" />

    <!-- <node name="spawn_model" pkg="gazebo_ros" type="spawn_model" args="-param robot_description -urdf -model robot" /> -->

    <node name="to_tf_2" pkg="tf2_ros" type="static_transform_publisher" args="0 0 0 0 0 0 1 world gerard_bauzil/base_link" />
  </group>

  <group if="$(arg gazebo)" ns="gazebo">
    <node name="spawn_urdf" pkg="gazebo_ros" type="spawn_model" args="-file $(find gerard_bauzil)/urdf/gerard_bauzil.urdf -urdf
      -x -0 -y 0. -z 0. -Y 0
      -model gerard_bauzil " />
  </group>


</launch>
